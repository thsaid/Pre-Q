---
title: "PALS"
author: "Tamer Said"
date: "01/11/2020"
output: html_document
---

```{r}
PreQ <- read.csv("PreQ_filtered.csv")
```
```{r}
library(tidyverse)
```
Selecting  the columns in PALS

```{r}
PALS <- read.csv("PALS.csv")
```
I saved an earlier version of this file, and loaded it here again.

Now I am going to arrange the PALS responses in long format 

```{r}
PALS_long <- pivot_longer(data = PALS,cols =Q27_1:Q27_15,names_to = "Question",values_to = "Response"  )
```

Loading scores template

```{r}
PALS_scores <- read.csv("Scoring_PALS.csv")
```


Joining the two tables to calculate scores

```{r}
PALS_joined <- inner_join (x = PALS_long,y= PALS_scores, by = "Response")

```

Calculating scores
```{r}
PALS_scores <- PALS_joined %>% 
             group_by(ID)
             
```


```{r}
PALS_scores <- PALS_joined %>% 
  group_by(ID) %>%
    summarise (PALS_Score = sum(score))
```

Saving ID numbers and PALS scores

```{r}
write.csv(PALS_scores, "PALS_scores.csv")
```

#Initial analysis before CFA.

I now need to group students' responses by question to do my analysis.

```{r}
PALS_Q <- PALS_joined %>% 
  group_by(Question)
```


